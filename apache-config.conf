<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    # If you have a domain name, uncomment and update this line:
    # ServerName your-domain.com

    # Serve static files from DocumentRoot
    <Directory /var/www/html>
        Options -Indexes +FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Proxy API requests to FastAPI backend
    ProxyPreserveHost On
    ProxyPass /api http://localhost:8000
    ProxyPassReverse /api http://localhost:8000

    # Add CORS headers (if needed for external access)
    <Location /api>
        Header always set Access-Control-Allow-Origin "*"
        Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS"
        Header always set Access-Control-Allow-Headers "Content-Type"
    </Location>

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/weather-app-error.log
    CustomLog ${APACHE_LOG_DIR}/weather-app-access.log combined
</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
